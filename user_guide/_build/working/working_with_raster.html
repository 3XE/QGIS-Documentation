
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Working with Raster Data}label{label_raster &mdash; QGIS User Guide 1.7.4 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/linfiniti.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="QGIS User Guide 1.7.4 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="span3">
      <div class="well sidebar-nav">
          <a class="brand" href="http://qgis.org">
          <br />
          <center>QGIS User Guide</center></a>
            <h4>Contents</h4>
            <hr />
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../preamble.html">Preamble</a></li>
<li class="toctree-l1"><a class="reference internal" href="../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">QGIS Server</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/working/working_with_raster.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
            
            
            
          <a rel="license"
            href="http://creativecommons.org/licenses/by-sa/3.0/"><img
            alt="Creative Commons License" style="border-width:0"
            src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br
          /><span xmlns:dct="http://purl.org/dc/terms/"
            property="dct:title">Linfiniti Sphinx Theme</span> by <a
            xmlns:cc="http://creativecommons.org/ns#"
            href="http://linfiniti.com" property="cc:attributionName"
            rel="cc:attributionURL">Linfiniti Consulting CC.</a> is licensed
          under a <a rel="license"
            href="http://creativecommons.org/licenses/by-sa/3.0/">Creative
            Commons Attribution-ShareAlike 3.0 Unported License</a>.<br />Based
          on a work at <a xmlns:dct="http://purl.org/dc/terms/"
            href="https://github.com/timlinux/linfiniti-sphinx-theme"
            rel="dct:source">github.com</a>.
      </div>
        </div><!-- span9 -->
        <div class="span9">
              
  <p>%  !TeX  root  =  user_guide.tex</p>
<div class="section" id="working-with-raster-data-label-label-raster">
<h1>Working with Raster Data}label{label_raster<a class="headerlink" href="#working-with-raster-data-label-label-raster" title="Permalink to this headline">¶</a></h1>
<p><span class="target" id="index-0"></span>raster layers|(</p>
<p>% when the revision of a section has been finalized,
% comment out the following line:
%updatedisclaimer</p>
<p>This Section describes how to visualize and set raster layer properties.
QGIS uses the GDAL library to read and write raster data formats
footnote{GRASS raster support is supplied by a native QGIS data provider
plugin.}, including Arc/Info Binary Grid:index:<cite>Arc/Info Binary Grid</cite>,
Arc/Info ASCII Grid:index:<cite>Arc/Info ASCII Grid}, GeoTIFFindex{GeoTIFF</cite>,
Erdas Imagine:index:<cite>Erdas Img.</cite> and many more.</p>
<p>At the date of this document, more than 100 raster formats are supported
by the GDAL library FIXMEcite{GDALweb}. A complete list is available at
url{<a class="reference external" href="http://www.gdal.org/formats_list.html">http://www.gdal.org/formats_list.html</a>}.</p>
<p><strong>Note</strong>: Not all of the listed formats may work in QGIS for various
reasons. For example, some require external commercial libraries or
the GDAL installation of your OS was not built to support the format you want
to use. Only those formats that have been well tested will appear in the list
of file types when loading a raster into QGIS. Other untested formats can
be loaded by selecting <em>.</em>.</p>
<p>Working with GRASS raster data is described in Section ref{sec:grass}.</p>
<div class="section" id="what-is-raster-data-label-label-whatsraster">
<h2>What is raster data?}label{label_whatsraster<a class="headerlink" href="#what-is-raster-data-label-label-whatsraster" title="Permalink to this headline">¶</a></h2>
<p><span class="target" id="index-1"></span>raster layers!definition</p>
<p>Raster data in GIS are matrices of discrete cells that represent features on,
above or below the earth&#8217;s surface. Each cell in the raster grid is the same
size, and cells are usually rectangular (in QGIS they will always be
rectangular). Typical raster datasets include remote sensing data such as
aerial photography or satellite imagery and modelled data such as an elevation
matrix.</p>
<p>Unlike vector data, raster data typically do not have an associated database
record for each cell. They are geocoded by its pixel resolution and the x/y
coordinate of a corner pixel of the raster layer. This allows QGIS to position
the data correctly in the map canvas.</p>
<p>QGIS makes use of georeference information inside the raster layer (e.g. GeoTiff)
or in an appropriate world file to properly display the data.:index:<cite>raster layers!georeferenced</cite></p>
</div>
<div class="section" id="loading-raster-data-in-qgis-label-label-loadraster">
<h2>Loading raster data in QGIS}label{label_loadraster<a class="headerlink" href="#loading-raster-data-in-qgis-label-label-loadraster" title="Permalink to this headline">¶</a></h2>
<p>Raster layers are loaded either by clicking on the
toolbtntwo{mActionAddRasterLayer}{Load Raster} icon or by
selecting the mainmenuopt{View} arrow dropmenuopttwo{mActionAddRasterLayer}{Add Raster Layer}
menu option. More than one layer can be loaded at the same time by holding down the
keystroke{Control} or keystroke{Shift} key and clicking on multiple items
in the dialog dialog{Open a GDAL Supported Raster Data Source}.:index:<cite>raster layers!loading</cite></p>
<p>Once a raster layer is loaded in the map legend you can click on the layer name with the
right mouse button to select and activate layer specific features or to open
a dialog to set raster properties for the layer.</p>
<div class="section" id="right-mouse-button-menu-for-raster-layers">
<h3>Right mouse button menu for raster layers<a class="headerlink" href="#right-mouse-button-menu-for-raster-layers" title="Permalink to this headline">¶</a></h3>
<p>[label=&#8211;]
*  dropmenuopt{Zoom to layer extent}
*  dropmenuopt{Zoom to best scale (100%)}
*  dropmenuopt{Show in overview}
*  dropmenuopt{Remove}
*  dropmenuopt{Set layer CRS}
*  dropmenuopt{Set project CRS from layer}
*  dropmenuopt{Properties}
*  dropmenuopt{Rename}
*  dropmenuopt{Add Group}
*  dropmenuopt{Expand all}
*  dropmenuopt{Collapse all}</p>
</div>
</div>
<div class="section" id="raster-properties-dialog-label-label-rasterprop">
<h2>Raster Properties Dialog}label{label_rasterprop<a class="headerlink" href="#raster-properties-dialog-label-label-rasterprop" title="Permalink to this headline">¶</a></h2>
<p>To view and set the properties for a raster layer, double click
on the layer name in the map legend or right click on the layer name and choose
dropmenuopt{Properties} from the context menu:<span class="target" id="index-2"></span>raster layers!context menu
Figure ref{fig:raster_properties} shows the dialog{Raster Layer Properties} dialog.
There are several tabs on the dialog:</p>
<dl class="docutils">
<dt>[label=&#8211;]</dt>
<dd><ul class="first last simple">
<li>tab{Style}</li>
<li>tab{Transparency}</li>
<li>tab{Colormap}</li>
<li>tab{General}</li>
<li>tab{Metadata}</li>
<li>tab{Pyramids}</li>
<li>tab{Histogram}</li>
</ul>
</dd>
<dt>begin{figure}[h]</dt>
<dd><dl class="first last docutils">
<dt>centering</dt>
<dd>includegraphics[clip=true, width=14cm]{rasterPropertiesDialog}
caption{Raster Layers Properties Dialog nixcaption}label{fig:raster_properties}</dd>
</dl>
</dd>
</dl>
<p>end{figure}</p>
<p>QGIS can render raster layers in two different ways :<span class="target" id="index-3"></span>raster layers!supported channels</p>
<p>[label=&#8211;]
*  Single band - one band of the image will be rendered as gray or in
pseudocolor or a freak out.
*  Three band color - three bands from the image will be rendered, each
band representing the red, green or blue component that will be used to create
a color image.</p>
<p>Within both render types you can invert the color output using the
checkbox{Invert color map} checkbox.</p>
<div class="section" id="single-band-rendering">
<h3>Single Band Rendering<a class="headerlink" href="#single-band-rendering" title="Permalink to this headline">¶</a></h3>
<p>This selection offers you two possibilites to choose. At first you can
select which band you like to use for rendering (if the dataset has more than
one band).</p>
<p>The second option offers a selection of available colortables for rendering.</p>
<p>The following settings are available through the dropdownbox
selectstring{color map}{Grayscale}, where grayscale is the default
setting.
Also available are</p>
<p>[label=&#8211;]
*  Pseudocolor
*  Freak Out
*  Colormap</p>
<p>When selecting the entry selectstring{color map}{Colormap}, the tab
tab{Colormap} becomes available. See more on that at chapter
ref{label_colormaptab}.</p>
<p>QGIS can restrict the data displayed to only show cells whose values are
within a given number of standard deviations of the mean for the
layer.:index:<cite>raster layers!standard deviation</cite> This is useful when you have
one or two cells with abnormally high values in a raster grid that are having
a negative impact on the rendering of the raster. This option is only available
for pseudocolor and freak out images.</p>
</div>
<div class="section" id="three-band-color">
<h3>Three band color<a class="headerlink" href="#three-band-color" title="Permalink to this headline">¶</a></h3>
<p>This selection offers you a wide range of options to modify the appearance
of your rasterlayer. For example you could switch color-bands from the
standard RGB-order to something else.</p>
<p>Also scaling of colors are available.</p>
<p>begin{Tip}caption{textsc{Viewing a Single Band of a Multiband Raster}}
If you want to view a single band (for example Red) of a multiband
image, you might think you would set the Green and Blue bands to <a href="#id1"><span class="problematic" id="id2">``</span></a>Not
Set&#8217;&#8216;. But this is not the correct way. To display the Red band,
set the image type to grayscale, then select Red as the band to use for Gray.
end{Tip}</p>
<div class="section" id="transparency-tab-label-rastertab-transparency">
<h4>Transparency Tab} label{rastertab:transparency<a class="headerlink" href="#transparency-tab-label-rastertab-transparency" title="Permalink to this headline">¶</a></h4>
<p>QGIS has the ability to display each raster layer at varying transparency
levels.:index:<cite>raster layers!transparency</cite> Use the transparency slider to indicate to what extent the underlying layers (if any) should be visible though the current raster layer.
This is very useful, if you like to overlay more than one rasterlayer, e.g. a shaded relief-map overlayed by a classified rastermap. This will make the look of the map more three dimensional.</p>
<p>Additionally you can enter a rastervalue, which should be treated as
{em NODATA}. This can be done manually or with the
toolbtntwo{mActionContextHelp}{Add values from display} icon.</p>
<p>An even more flexible way to customize the transparency can be done in the
guiheading{Custom transparency options} section.
The transparency of every pixel can be set in this tab.</p>
<p>As an example we want to set the water of our example rasterfile
filename{landcover.tif} to a transparency of 20%. The following steps
are neccessary:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Load the rasterfile filename{landcover}</li>
</ol>
<p>#.  Open the dialog{properties} dialog by double-clicking on the
rasterfile-name in the legend or by right-clicking and choosing
dropmenuopt{Properties} from the popup menu.
#.  select the tab{Transparency} tab
#.  label{enum:add} Click the toolbtntwo{mActionNewAttribute}{Add values manually}
button. A new row will appear in the pixel-list.
#.  label{enum:transp} enter the raster-value (we use 0 here) and adjust the
transparency to 20%
#.  press the button{Apply} button and have a look at the map</p>
</div></blockquote>
<p>You can repeat the steps ref{enum:add} and ref{enum:transp} to adjust
more values with custom transparency.</p>
<p>As you can see this is quite easy to set custom transparency, but it can be
quite a lot of work. Therefore you can use the button
toolbtntwo{mActionFileSave}{Export to file} to save your
transparency-list to a file. The button
toolbtntwo{mActionFolder.png}{Import from file} loads your
transparency-settings and applies them to the current rasterlayer.</p>
</div>
<div class="section" id="colormap-label-label-colormaptab">
<h4>Colormap} label{label_colormaptab<a class="headerlink" href="#colormap-label-label-colormaptab" title="Permalink to this headline">¶</a></h4>
<p>The tab{Colormap} tab is only available, when you have selected a
single-band-rendering within the tab{Style} tab (see chapt. ref{label_sombology}).</p>
<p>Three ways of color interpolation are available:</p>
<p>[label=&#8211;]
*  Discrete
*  Linear
*  Exact</p>
<p>The button button{Add Entry} adds a color to the individual color-table.
button{Delete Entry} deletes a color from the individual color-table and the
button{Sort} sorts the color table according to the pixel values in the
value column. Double-Clicking on the value-column lets you insert a
specific value. Double clicking on the color-column opens the dialog
dialog{Select color} where you can select a color to apply on that value. Further you can also add labels for each color but this value won&#8217;t be displayed when you use the identify feature tool.</p>
<p>Alternatively you can click on the button
toolbtntwo{mActionNewAttribute}{Load colormap from Band}, which tries to load the table from the band (if it has any).</p>
<p>The block guiheading{Generate new color map} allows you to create newly
categorized colormaps. You only need to select the selectnumber{number of
classes}{15} and press the button button{Classify}. Currently
only one selectstring{Classification mode}{Equal Interval} is
supported:index:<cite>raster layer!classify</cite>.</p>
</div>
<div class="section" id="general-tab-label-label-generaltab">
<h4>General Tab}label{label_generaltab<a class="headerlink" href="#general-tab-label-label-generaltab" title="Permalink to this headline">¶</a></h4>
<p>The tab{General} tab displays basic information about the selected raster,
including the layer source and  display name in the legend (which can be
modified). This tab also shows a thumbnail of the layer, its legend symbol,
and the palette.:index:<cite>raster layers!properties</cite></p>
<p>Additionally scale-dependent visability can be set in this tab. You need to
check the checkbox and set an appropriate scale where your data will be
displayed in the map canvas.</p>
<p>Also the coordinate reference system (CRS) is printed here as a PROJ.4-string.
This can be modified by hitting the button{Specify} button.</p>
</div>
<div class="section" id="metadata-tab-label-label-metatab">
<h4>Metadata Tab}label{label_metatab<a class="headerlink" href="#metadata-tab-label-label-metatab" title="Permalink to this headline">¶</a></h4>
<p>The tab{Metadata} tab displays a wealth of information about the raster layer,
including statistics about each band in the current raster layer. Statistics
are gathered on a &#8216;need to know&#8217; basis, so it may well be that a given layers
statistics have not yet been collected.:index:<cite>raster layers!metadata</cite></p>
<p>This tab is mainly for information. You cannot change any values printed
inside this tab. To update the statistics you need to change to tab
tab{Histogram} and press the button button{Refresh} on the bottom right,
see ch. ref{label_histogram}.</p>
</div>
<div class="section" id="pyramids-tab-label-raster-pyramids">
<h4>Pyramids Tab}label{raster_pyramids<a class="headerlink" href="#pyramids-tab-label-raster-pyramids" title="Permalink to this headline">¶</a></h4>
<p>Large resolution raster layers can slow navigation in QGIS. By creating lower
resolution copies of the data (pyramids), performance can be considerably
improved as QGIS selects the most suitable resolution to use depending on the
level of zoom.
<span class="target" id="index-4"></span>raster layers!pyramids
<span class="target" id="index-5"></span>raster layers!resolution pyramids</p>
<p>You must have write access in the directory where the original data is stored
to build pyramids. \
Several resampling methods can be used to calculate the pyramides:</p>
<p>[label=&#8211;]
*  Average
*  Nearest Neighbour</p>
<p>When checking the checkbox checkbox{Build pyramids internally if
possible} QGIS tries to build pyramids internally.</p>
<p>Please note that building pyramids may alter the original data file and once
created they cannot be removed. If you wish to preserve a &#8216;non-pyramided&#8217;
version of your raster, make a backup copy prior to building pyramids.</p>
</div>
<div class="section" id="histogram-tab-label-label-histogram">
<h4>Histogram Tab}label{label_histogram<a class="headerlink" href="#histogram-tab-label-label-histogram" title="Permalink to this headline">¶</a></h4>
<p>The tab{Histogram} tab allows you to view the distributionindex{raster
layers!histogram} of the bands or colors in your raster. It is generated
automaticaly when you open tab{Histogram} tab. You can choose which bands to display by selecting them in the list box at the bottom left of the tab.</p>
<p>%% FIXME not supported at the moment
%Two different chart types are allowed:
%
%
[label=&#8211;]
%*  Bar chart
%*  Line graph
%</p>
<p>%
%You can define the number of chart columns to use and decide whether you want
%to checkbox{Allow approximation} or display checkbox{out of range} values
%Once you view the histogram, you&#8217;ll notice that the band statistics have been
%populated on the tab{metadata} tab.:index:<cite>raster layers!metadata)</cite></p>
<p>begin{Tip}caption{textsc{Gathering Raster Statistics}}
To gather statistics for a layer, select pseudocolor rendering and
click the button{Apply} button. Gathering statistics for a layer can be time
consuming. Please be patient while QGIS examines your
data!:index:<cite>raster layers!statistics</cite>
end{Tip}</p>
</div>
</div>
</div>
<div class="section" id="raster-calculator-label-sec-raster-calc">
<h2>Raster Calculator}label{sec:raster_calc<a class="headerlink" href="#raster-calculator-label-sec-raster-calc" title="Permalink to this headline">¶</a></h2>
<p><span class="target" id="index-6"></span>Raster!raster calculator
<span class="target" id="index-7"></span>Raster calculator</p>
<p>The dialog{Raster Calculator} in the mainmenuopt{Layer} menu allows to
perform calculations on basis of existing raster pixel values. The results
are written to a new raster layer with a GDAL supported format.</p>
<dl class="docutils">
<dt>begin{figure}[ht]</dt>
<dd><dl class="first last docutils">
<dt>centering</dt>
<dd>includegraphics[clip=true, width=11.5cm]{raster_calculator}
caption{Raster Calculator nixcaption}label{fig:raster_calculator}</dd>
</dl>
</dd>
</dl>
<p>end{figure}</p>
<p>The <strong>Fields list</strong> contains all loaded raster layers that can be used.
To add a raster to the raster calculator expression field, double
click its name in the Fields list. You can then use the operators to construct
calculation expressions or you can just type it into the box.</p>
<p>In the <strong>Result layer</strong> section you have to define an output layer. You can
then define the extent of the calculation area based on an input raster layer or
based on X,Y coordinates and on Columns and Rows to set the resolution of the
output layer. If the input layer has a different resolution, the values will be
resampled with nearest neighbor algorithm.</p>
<p>The <strong>Operators section</strong> contains all usable operators. To add an operator
to the raster calculator expression box, click the appropriate button. Mathematical
calculations ( + , - , * dots) and trigonometric functions ( sin, cos, tan, dots)
are available. Stay tuned for more operators to come!</p>
<p>With the checkbox{Result to project} checkbox the result layer will automatically
added to the legend area and can be visualized.</p>
</div>
<div class="section" id="raster-analysis-label-sec-raster-analysis">
<h2>Raster Analysis}label{sec:raster_analysis<a class="headerlink" href="#raster-analysis-label-sec-raster-analysis" title="Permalink to this headline">¶</a></h2>
<p><span class="target" id="index-8"></span>Raster!raster analysis
<span class="target" id="index-9"></span>Raster analysis</p>
<p>Apart from the raster calculator, additional raster analysis in QGIS 1.7 is provided by the GDALTools core plugin. Please refer to section ref{label_plugingdaltools} for more information.</p>
<p>FloatBarrier</p>
</div>
</div>


        </div><!-- span9 -->
      </div><!-- row -->
    </div> <!-- container -->
    <div class="alert alert-info">
          &copy; Copyright 2012, QGIS project.
    </div>
  </body>
</html>