
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Georeferencer Plugin}label{sec:georef &mdash; QGIS User Guide 1.7.4 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/linfiniti.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="QGIS User Guide 1.7.4 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="span3">
      <div class="well sidebar-nav">
          <a class="brand" href="http://qgis.org">
          <br />
          <center>QGIS User Guide</center></a>
            <h4>Contents</h4>
            <hr />
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../preamble.html">Preamble</a></li>
<li class="toctree-l1"><a class="reference internal" href="../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">QGIS Server</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/plugins/plugins_georeferencer.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
            
            
            
          <a rel="license"
            href="http://creativecommons.org/licenses/by-sa/3.0/"><img
            alt="Creative Commons License" style="border-width:0"
            src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br
          /><span xmlns:dct="http://purl.org/dc/terms/"
            property="dct:title">Linfiniti Sphinx Theme</span> by <a
            xmlns:cc="http://creativecommons.org/ns#"
            href="http://linfiniti.com" property="cc:attributionName"
            rel="cc:attributionURL">Linfiniti Consulting CC.</a> is licensed
          under a <a rel="license"
            href="http://creativecommons.org/licenses/by-sa/3.0/">Creative
            Commons Attribution-ShareAlike 3.0 Unported License</a>.<br />Based
          on a work at <a xmlns:dct="http://purl.org/dc/terms/"
            href="https://github.com/timlinux/linfiniti-sphinx-theme"
            rel="dct:source">github.com</a>.
      </div>
        </div><!-- span9 -->
        <div class="span9">
              
  <p>%  !TeX  root  =  user_guide.tex</p>
<div class="section" id="georeferencer-plugin-label-sec-georef">
<h1>Georeferencer Plugin}label{sec:georef<a class="headerlink" href="#georeferencer-plugin-label-sec-georef" title="Permalink to this headline">¶</a></h1>
<p>% when the revision of a section has been finalized,
% comment out the following line:
% updatedisclaimer</p>
<p>The Georeferencer Plugin is a tool for generating world files for rasters.
It allows you to reference rasters to geographic or projected coordinate
systems by creating a new GeoTiff or by adding a world file to the
existing image. The basic approach to georeferencing a raster is to locate
points on the raster for which you can accurately determine their coordinates.</p>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>begin{table}[h]:index:<cite>Georeferencer!tools</cite>
begin{tabular}{<a href="#id3"><span class="problematic" id="id4">|m{1cm}|m{6cm}|m{1cm}|m{6cm}|</span></a>}</p>
<blockquote>
<div>hline <strong>Icon} &amp; textbf{Purpose} &amp; textbf{Icon</strong> &amp;
<strong>Purpose</strong> \
hline includegraphics[width=0.7cm]{mActionAddRasterLayer} &amp; Open raster &amp;
includegraphics[width=0.7cm]{mActionStartGeoref} &amp; Start georeferencing \
hline includegraphics[width=0.7cm]{mActionGDALScript} &amp; Generate GDAL script &amp;
includegraphics[width=0.7cm]{mActionFileOpen} &amp; Load GCP Points \
hline includegraphics[width=0.7cm]{mActionFileSave} &amp; Save GCP Points as &amp;
includegraphics[width=0.7cm]{mActionOptions} &amp; Transformation settings \
hline includegraphics[width=0.7cm]{mActionCapturePoint} &amp; Add Point &amp;
includegraphics[width=0.7cm]{mActionDeleteSelected} &amp; Delete Point \
hline includegraphics[width=0.7cm]{mActionMoveFeature} &amp; Move GCP Point &amp;
includegraphics[width=0.7cm]{mActionPan} &amp; Pan \
hline includegraphics[width=0.7cm]{mActionZoomIn} &amp; Zoom in &amp;
includegraphics[width=0.7cm]{mActionZoomOut} &amp; Zoom out \
hline includegraphics[width=0.7cm]{mActionZoomToLayer} &amp; Zoom to layer &amp;
includegraphics[width=0.7cm]{mActionZoomLast} &amp; Zoom Last \
hline includegraphics[width=0.7cm]{mActionZoomNext} &amp; Zoom Next &amp;
includegraphics[width=0.7cm]{mActionLinkGeorefToQGis} &amp; Link Georeferencer to QGIS \
hline includegraphics[width=0.7cm]{mActionLinkQGisToGeoref} &amp; Link QGIS to Georeferencer &amp;
&amp;  \</div></blockquote>
<p>hline
end{tabular}
caption{Georeferencer Tools}label{tab:georeferencer_tools}
end{table}</p>
</div>
<div class="section" id="usual-procedure">
<h2>Usual procedure<a class="headerlink" href="#usual-procedure" title="Permalink to this headline">¶</a></h2>
<p>As X and Y coordinates (DMS (dd mm ss.ss), DD (dd.dd) or projected coordinates
(mmmm.mm) which correspond with the selected point on the image, two
alternative procedures can be used:</p>
<p>#.  The raster itself sometimes provides crosses with coordinates
<a href="#id1"><span class="problematic" id="id2">`</span></a>written&#8217; on the image. In this case you can enter the coordinates manually.
#.  Using already georeferenced layers, this can be either vector or
raster data that contain the same objects/features that you have on
the image that you want to georeference and the projection you want to
have your image. In this case you can enter the coordinates by
clicking on the reference dataset loaded in QGIS map canvas.</p>
<p>The usual procedure for georeferencing an image involves selecting multiple
points on the raster, specifying their coordinates, and choosing a relevant
transformation type. Based on the input parameters and data, the plugin will
compute the world file parameters. The more coordinates you provide, the
better the result will be.</p>
<p>The first step is to start QGIS, load the Georeferencer Plugin (see Section
ref{sec:load_core_plugin}) and click on the
toolbtntwo{georeferencer}{Georeferencer} icon which appears in the
QGIS toolbar menu. The Georeferencer Plugin dialog appears as shown
in Figure ref{fig:georefplugin}.</p>
<p>For this example, we are using a topo sheet of South Dakota from SDGS.
It can later be visualized together with the data from the GRASS spearfish60
location. You can download the topo sheet here:
url{<a class="reference external" href="http://grass.osgeo.org/sampledata/spearfish_toposheet.tar.gz">http://grass.osgeo.org/sampledata/spearfish_toposheet.tar.gz</a>}</p>
<p>begin{figure}[ht]
centering</p>
<blockquote>
<div>includegraphics[clip=true, width=12cm]{georefplugin}
caption{Georeferencer Plugin Dialog nixcaption}label{fig:georefplugin}</div></blockquote>
<p>end{figure}</p>
</div>
<div class="section" id="entering-ground-control-points-gcps-label-georeferencer-entering">
<h2>Entering ground control points (GCPs)}label{georeferencer_entering<a class="headerlink" href="#entering-ground-control-points-gcps-label-georeferencer-entering" title="Permalink to this headline">¶</a></h2>
<p>#.  To start georeferencing an unreferenced raster, we must load it using
the includegraphics[width=0.7cm]{mActionAddRasterLayer} button. The raster
will show up in the main working area of the dialog. Once the raster is
loaded, we can start to enter reference points.
#.  Using the toolbtntwo{mActionCapturePoint}{Add Point} button, add
points to the main working area and enter their coordinates
(See Figure ref{fig:choose_points}). For this procedure you have two
options:</p>
<ol class="arabic simple">
<li>Click on a point in the raster image and enter the X and Y coordinates manually</li>
</ol>
<p>#.  Click on a point in the raster image and choose the button
toolbtntwo{pencil}{from map canvas} to add the X and Y coordinates with the help
of a georeferenced map already loaded in the QGIS map canvas.
#.  With the includegraphics[width=0.7cm]{mActionMoveFeature} button, you can move
the GCPs in both windows, if they are at the wrong place.</p>
<p>item Continue entering points. You should have at least 4 points, and the
more coordinates you can provide, the better the result will be. There are
additional tools on the plugin dialog to zoom and pan the working area in
order to locate a relevant set of GCP points.</p>
<p>begin{figure}[ht]
centering</p>
<blockquote>
<div>includegraphics[clip=true,width=5cm]{choose_points}
caption{Add points to the raster image nixcaption}label{fig:choose_points}</div></blockquote>
<p>end{figure}</p>
<p>The points that are added to the map will be stored in a separate text
file ([filename].points) usually together with the raster image.
This allows us to reopen the Georeferencer plugin at a later date and add
new points or delete existing ones to optimize the result. The points file
contains values of the form: mapX, mapY, pixelX, pixelY. You can use the
includegraphics[width=0.7cm]{mActionFileOpen} &#8216;Load GCP Points&#8217; and
includegraphics[width=0.7cm]{mActionFileSave} &#8216;Save GCP Points&#8217; buttons to
manage the files. Within the GCP table you can click on a column header and
therewith enable e.g. numerical sorting. The GCP list is automatically updated.</p>
</div>
<div class="section" id="defining-the-transformation-settings-label-georeferencer-transformation">
<h2>Defining the transformation settings}label{georeferencer_transformation<a class="headerlink" href="#defining-the-transformation-settings-label-georeferencer-transformation" title="Permalink to this headline">¶</a></h2>
<p>After you have added your GCPs to the raster image, you need to define the
transformation settings for the georeferencing process.</p>
<p>begin{figure}[ht]
centering</p>
<blockquote>
<div>includegraphics[clip=true,width=5cm]{transformation_settings}
caption{Defining the georeferencer transformation settings nixcaption}label{fig:georef_transform}</div></blockquote>
<p>end{figure}</p>
</div>
<div class="section" id="available-transformation-algorithms">
<h2>Available Transformation algorithms<a class="headerlink" href="#available-transformation-algorithms" title="Permalink to this headline">¶</a></h2>
<p>Depending on how many ground control point you have captured, you may want
to use different transformation algorithms. Choice of transformation
algorithm is also dependent on the type and quality of input data and
the amount of geometric distortion that you are willing to introduce
to final result.</p>
<p>Currently, following algorithms are available:</p>
<p>[label=&#8211;]
*  The <strong>Linear algorithm</strong> is used to create a world-file, and is different
from the other algorithms, as it does not actually transform the raster.
This algorithm likely won&#8217;t be sufficient if you are dealing with scanned
material.
*  The <strong>Helmert transformation</strong> performs simple scaling and rotation
transformations.
*  The <strong>Polynomial algorithms</strong> 1-3 are among the most widely
used algorithms
for georeferencing, and each one differs by the degree of distortion
introduced to match source and destination ground control points. The
most widely used polynomial algorithm is the second order polynomial
transformation, which allows some curvature. First order polynomial
transformation (affine) preserves colliniarity and allows scaling,
translation and rotation only.
*  The <strong>Thin plate spline (TPS) algorithm</strong> is a more
modern georeferencing  method, which is able to introduce local
deformations in the data. This algorithm is useful when very low
quality originals are being georeferenced.
*  The <strong>Projective transformation</strong> is a linear rotation and
translation of coordinates.</p>
</div>
<div class="section" id="define-the-resampling-method">
<h2>Define the Resampling method<a class="headerlink" href="#define-the-resampling-method" title="Permalink to this headline">¶</a></h2>
<p>The type of resampling you choose will likely depending on your input data
and the ultimate objective of the exercise. If you don&#8217;t want to change
statistics of the image, you might want to choose Nearest neighbour,
whereas a Cubic resampling will likely provide a more smoothed result.</p>
<p>It is prossible to choose between five different resampling methods.</p>
<ol class="arabic simple">
<li>Nearest neighbour</li>
<li>Linear</li>
<li>Cubic</li>
<li>Cubic Spline</li>
<li>Lanczos</li>
</ol>
</div>
<div class="section" id="define-the-transformation-settings">
<h2>Define the transformation settings<a class="headerlink" href="#define-the-transformation-settings" title="Permalink to this headline">¶</a></h2>
<p>There are several options that need to be defined for the georeferenced output
raster.</p>
<p>[label=&#8211;]
*  The checkbox checkbox{Create world file} is only available, if
you decide to use the linear transformation type, because this means that
the raster image actually won&#8217;t be transformed. In this case, the field
Output raster is not activated, because only a new world-file will be
created.
*  For all other transformation type you have to define an textbf{Output
raster}. As default a new file ([filename]_modified) will be created in
the same folder together with the original raster image.
*  As a next step you have to define the <strong>Target SRS</strong>
(Spatial Reference System) for the georeferenced raster
(see section ref{label_projections}).
*  If you like, you can <strong>generate a pdf map</strong> and also textbf{a
pdf report}. The report ncludes information about the used transformation
parameters. An image of the residuals and a list with all GCPs and their
RMS errors.
*  Furthermore you can activate the checkbox{Set Target Resolution}
checkbox and define pixel resolution of the output raster. Default horizontal
and vertical resolution is 1,
*  The checkbox{Use 0 for transparency when needed} can be activated, if
pixels with the value 0 shall be visualized transparent. In our example
toposheet all white areas would be transparent.
*  Finally checkbox{Load in QGIS when done} loads the output raster
automatically into the QGIS map canvas when the transformation is done.</p>
</div>
<div class="section" id="show-and-adapt-raster-properties">
<h2>Show and adapt raster properties<a class="headerlink" href="#show-and-adapt-raster-properties" title="Permalink to this headline">¶</a></h2>
<p>Clicking on the dialog{Raster properties} dialog in the dropmenuopt{Settings} menu
opens the raster properties of the layer that you want to georeference.</p>
</div>
<div class="section" id="configure-the-georeferencer">
<h2>Configure the georeferencer<a class="headerlink" href="#configure-the-georeferencer" title="Permalink to this headline">¶</a></h2>
<p>[label=&#8211;]
*  You can define if you want to show GCP coordiniates and/or IDs.
*  As residual units pixels and map units can be chosen.
*  For the PDF report a left and right margin can be defined and you can
also set the paper size for the PDF map.
*  Finally you can activate to checkbox{show georeferencer window docked}.</p>
</div>
<div class="section" id="running-the-transformation-label-georeferencer-running">
<h2>Running the transformation}label{georeferencer_running<a class="headerlink" href="#running-the-transformation-label-georeferencer-running" title="Permalink to this headline">¶</a></h2>
<p>After all GCPs have been collected and all transformation settings are
defined, just press the button includegraphics[width=0.7cm]{mActionStartGeoref}
&#8216;Start georeferencing&#8217; to create the new georeferenced raster.</p>
</div>
</div>


        </div><!-- span9 -->
      </div><!-- row -->
    </div> <!-- container -->
    <div class="alert alert-info">
          &copy; Copyright 2012, QGIS project.
    </div>
  </body>
</html>